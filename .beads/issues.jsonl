{"id":"swanson-18w","title":"Phase 0: Define shared TypeScript interfaces (IPlan, IWSMessage)","description":"Define the TypeScript interfaces consumed by both server and client: IPlan (plan JSON schema), IWSMessage (WebSocket envelope), and message types (chat, plan_update, plan_approved, status, error, auth). New file: shared/types.ts. No dependencies - can run parallel with Phase 1.","status":"closed","priority":2,"issue_type":"task","owner":"spencech@gmail.com","created_at":"2026-02-26T23:30:25Z","created_by":"Chris Spence","updated_at":"2026-02-27T01:00:54Z","closed_at":"2026-02-27T01:00:54Z","close_reason":"Created shared/types.ts with full type definitions: IPlan, IPlanSummary, IThreadSummary, IWSMessage envelope, all WS message types (chat, plan CRUD, thread CRUD, system), typed payload map with IWSPayloadMap for type-safe message construction. Updated tsconfig.json to include shared/ directory. Types follow I-prefix convention per project standards."}
{"id":"swanson-38a","title":"Phase 4.5: My Work — Sidebar, Threads \u0026 Dashboard","description":"Add persistent workspace: sidebar with thread list and plan groups, thread CRUD (create/resume/rename/delete), plan sidebar access, dashboard empty state, electron-store cache for instant sidebar population, WebSocket sync on connect. Depends on Phase 3 + Phase 4.","status":"open","priority":2,"issue_type":"feature","owner":"spencech@gmail.com","created_at":"2026-02-27T00:57:22Z","created_by":"Chris Spence","updated_at":"2026-02-27T00:57:22Z","dependencies":[{"issue_id":"swanson-38a","depends_on_id":"swanson-6ds","type":"blocks","created_at":"2026-02-26T19:57:26Z","created_by":"Chris Spence","metadata":"{}"},{"issue_id":"swanson-38a","depends_on_id":"swanson-jru","type":"blocks","created_at":"2026-02-26T19:57:27Z","created_by":"Chris Spence","metadata":"{}"}]}
{"id":"swanson-6ds","title":"Phase 3: Strip server-side logic from Electron client","description":"Delete: claude-code.ts, github-auth.ts, github-api.ts, git-ops.ts, useGitHub.ts, useWorkspace.ts. Simplify: repos.ts (keep labels only), store.ts (remove github/workspace schemas, add server schema), preload.ts (~212→~80 lines), main.ts (~464→~150 lines), LaunchScreen.tsx (4-step→1-step Google SSO, ~489→~100 lines), useAuth.ts (remove GitHub dep), useClaudeCode.ts→useOpenClaw.ts. Depends on Phase 2.","status":"closed","priority":2,"issue_type":"task","owner":"spencech@gmail.com","created_at":"2026-02-26T23:30:27Z","created_by":"Chris Spence","updated_at":"2026-02-27T01:19:20Z","closed_at":"2026-02-27T01:19:20Z","close_reason":"Major simplification complete. Deleted 6 files: claude-code.ts (429 lines), github-auth.ts (317 lines), github-api.ts (101 lines), git-ops.ts (186 lines), useGitHub.ts (274 lines), useWorkspace.ts (124 lines), LoginScreen.tsx, useClaudeCode.ts. Created useOpenClaw.ts (replaces useClaudeCode). Simplified: LaunchScreen 489→75 lines (1-step Google SSO), main.ts 464→134 lines (auth + settings + openclaw), preload.ts 212→100 lines, store.ts removed github/workspace schemas, repos.ts kept names/labels only, App.tsx removed workspace state. Cleaned vite-env.d.ts Window type. Zero TypeScript errors.","dependencies":[{"issue_id":"swanson-6ds","depends_on_id":"swanson-whb","type":"blocks","created_at":"2026-02-26T18:30:47Z","created_by":"Chris Spence","metadata":"{}"}]}
{"id":"swanson-arm","title":"Phase 6: End-to-end refinement session flow","description":"Wire up complete refinement loop: user describes feature → OpenClaw searches ChunkHound → asks clarifying questions → generates draft plan (plan_update WebSocket msg) → user iterates via chat → approves → YAML download enabled. Configure AGENTS.md system prompt for understand→search→question→plan→iterate pattern. Custom tool validates plan JSON before sending to client. Depends on Phase 3 + Phase 4 + Phase 5.","status":"open","priority":2,"issue_type":"feature","owner":"spencech@gmail.com","created_at":"2026-02-26T23:30:39Z","created_by":"Chris Spence","updated_at":"2026-02-26T23:30:39Z","dependencies":[{"issue_id":"swanson-arm","depends_on_id":"swanson-38a","type":"blocks","created_at":"2026-02-26T19:57:27Z","created_by":"Chris Spence","metadata":"{}"},{"issue_id":"swanson-arm","depends_on_id":"swanson-6ds","type":"blocks","created_at":"2026-02-26T18:30:49Z","created_by":"Chris Spence","metadata":"{}"},{"issue_id":"swanson-arm","depends_on_id":"swanson-jru","type":"blocks","created_at":"2026-02-26T18:30:49Z","created_by":"Chris Spence","metadata":"{}"},{"issue_id":"swanson-arm","depends_on_id":"swanson-tzq","type":"blocks","created_at":"2026-02-26T18:30:50Z","created_by":"Chris Spence","metadata":"{}"}]}
{"id":"swanson-jru","title":"Phase 4: Plan rendering UI in Electron","description":"Build structured plan display. New: PlanCard.tsx (overview), PlanStepList.tsx (dependency-ordered steps), PlanActions.tsx (approve/download/copy/edit), planStore.ts (Zustand), usePlan.ts (hook). Modify: ChatContainer.tsx (add plan panel), MessageBubble.tsx (detect plan JSON blocks), chatStore.ts (plan attachments). Depends on Phase 3. Can run parallel with Phase 5.","status":"open","priority":2,"issue_type":"feature","owner":"spencech@gmail.com","created_at":"2026-02-26T23:30:37Z","created_by":"Chris Spence","updated_at":"2026-02-26T23:30:37Z","dependencies":[{"issue_id":"swanson-jru","depends_on_id":"swanson-6ds","type":"blocks","created_at":"2026-02-26T18:30:48Z","created_by":"Chris Spence","metadata":"{}"}]}
{"id":"swanson-pxq","title":"Phase 7: Polish and operational hardening","description":"Settings panel for OpenClaw server URL + bearer token. Connection status indicator in title bar. Graceful degradation when server unreachable. Session resume after reconnection. Health check endpoint on server. git pull mechanism for repo freshness. ChunkHound re-index trigger. Docker health checks in compose file. Depends on Phase 6.","status":"open","priority":3,"issue_type":"task","owner":"spencech@gmail.com","created_at":"2026-02-26T23:30:40Z","created_by":"Chris Spence","updated_at":"2026-02-26T23:30:40Z","dependencies":[{"issue_id":"swanson-pxq","depends_on_id":"swanson-arm","type":"blocks","created_at":"2026-02-26T18:30:50Z","created_by":"Chris Spence","metadata":"{}"}]}
{"id":"swanson-q2l","title":"Swanson Pivot: Desktop App → OpenClaw Server + Electron Client","description":"Epic: Migrate Swanson from a local Electron + Claude CLI desktop app to a Docker-hosted OpenClaw server with Electron as a thin chat client. User describes a feature → Swanson asks clarifying questions → generates structured plan → user downloads spawnee YAML for offline approval. See plan: .claude/plans/hashed-yawning-mountain.md","status":"open","priority":1,"issue_type":"feature","owner":"spencech@gmail.com","created_at":"2026-02-26T23:30:13Z","created_by":"Chris Spence","updated_at":"2026-02-26T23:30:13Z"}
{"id":"swanson-qmu","title":"Phase 1: Docker image with OpenClaw + repos + ChunkHound + beads","description":"Build Docker image containing: OpenClaw gateway (Node 22+, port 18789), all 11 TeachUpbeat repos cloned via PAT, ChunkHound per-repo indexes, beads CLI, OpenClaw workspace config (AGENTS.md, SOUL.md, TOOLS.md), and custom tools (search_semantic, search_regex, code_research, validate_plan, convert_to_spawnee_yaml). New files: docker/Dockerfile, docker-compose.yml, openclaw-config/*, scripts/*. Validation: docker compose up → wscat connects → test message gets response. SPIKE: Treat as prototype to verify OpenClaw API maturity before committing to full plan.","status":"closed","priority":1,"issue_type":"feature","owner":"spencech@gmail.com","created_at":"2026-02-26T23:30:26Z","created_by":"Chris Spence","updated_at":"2026-02-27T01:11:56Z","closed_at":"2026-02-27T01:11:56Z","close_reason":"Created Docker infrastructure: Dockerfile (multi-stage: clone repos → index ChunkHound → runtime), docker-compose.yml (port 18789, volumes for persistence, healthcheck), clone-repos.sh (all 11 TeachUpbeat repos with develop branch fallback), index-repos.sh (per-repo ChunkHound with text-embedding-3-small), entrypoint.sh (writes openclaw.json at startup, launches gateway). OpenClaw workspace config: AGENTS.md (refinement flow instructions), SOUL.md (direct/thorough personality), TOOLS.md (tool reference). Custom plugin: swanson-tools with 5 agent tools (search_semantic, search_regex, code_research, validate_plan, convert_to_spawnee_yaml). NOTE: This is untested infrastructure — requires Docker build with valid GITHUB_PAT and API keys to validate. The GATE 1 spike should be performed manually."}
{"id":"swanson-tzq","title":"Phase 5: ChunkHound multi-repo indexing and repo expert memory","description":"Per-repo ChunkHound indexes (not merged) for all 11 repos. Register 3 MCP tools in OpenClaw via api.registerTool(). Pre-seed OpenClaw memory with plans/repos.md content (repo descriptions, relationships, architecture). Index refresh: nightly Docker rebuilds or volume-mounted repos with cron git pull + re-index. New: docker/scripts/index-repos.sh, chunkhound-config.json, openclaw-tools/chunkhound-bridge.ts. Depends on Phase 1. Can run parallel with Phase 4.","status":"open","priority":2,"issue_type":"task","owner":"spencech@gmail.com","created_at":"2026-02-26T23:30:38Z","created_by":"Chris Spence","updated_at":"2026-02-26T23:30:38Z","dependencies":[{"issue_id":"swanson-tzq","depends_on_id":"swanson-qmu","type":"blocks","created_at":"2026-02-26T18:30:48Z","created_by":"Chris Spence","metadata":"{}"}]}
{"id":"swanson-whb","title":"Phase 2: WebSocket communication layer (Electron ↔ OpenClaw)","description":"Build bidirectional WebSocket bridge. Client: electron/ws-client.ts (connection manager with auto-reconnect), electron/ws-protocol.ts (message serialization). Auth: static bearer token + Google SSO email in handshake. Streaming: chat messages with delta:true matching current content_block_delta pattern. Modify: electron/main.ts (replace claude:* IPC with openclaw:*), electron/preload.ts (replace claude API surface with openclaw). Depends on Phase 0 + Phase 1.","status":"closed","priority":2,"issue_type":"task","owner":"spencech@gmail.com","created_at":"2026-02-26T23:30:27Z","created_by":"Chris Spence","updated_at":"2026-02-27T01:15:34Z","closed_at":"2026-02-27T01:15:34Z","close_reason":"Created WebSocket communication layer: ws-client.ts (HTTP SSE streaming to OpenClaw /v1/chat/completions, auto-reconnect with exponential backoff, connection state management, session continuity via user field), ws-protocol.ts (type-safe message construction/parsing with IWSPayloadMap). Added openclaw:* IPC handlers to main.ts (connect, send, stop, disconnect, status, is-active, set-server, get-server). Added openclaw API surface to preload.ts with type declarations. Updated store.ts with server config + threadsCache/plansCache schemas. Uses OpenClaw's OpenAI-compatible HTTP API for reliable streaming.","dependencies":[{"issue_id":"swanson-whb","depends_on_id":"swanson-18w","type":"blocks","created_at":"2026-02-26T18:30:46Z","created_by":"Chris Spence","metadata":"{}"},{"issue_id":"swanson-whb","depends_on_id":"swanson-qmu","type":"blocks","created_at":"2026-02-26T18:30:46Z","created_by":"Chris Spence","metadata":"{}"}]}
